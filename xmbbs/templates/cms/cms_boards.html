{% extends 'cms/cms_base.html' %}
{% from "common/_macros.html" import static %}

{% block title %}版块管理{% endblock %}

{% block head %}
    <script src="{{ static("cms/js/boards.js") }}"></script>
{% endblock %}

{% block page_title %}
    {{ self.title() }}
{% endblock %}

{% block main_content %}
    <div class="top-box">
        <button class="btn btn-warning" style="float: right;" id="add-board-btn">添加新版块</button>
    </div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>版块名称</th>
                <th>帖子数量</th>
                <th>创建时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for board in boards %}
{#                将版块信息绑定在tr标签上，boards.js编辑时方便调用显示在弹出窗口#}
                <tr data-name="{{ board.name }}" data-id="{{ board.id }}">
                    <td>{{ board.name }}</td>
                    <td>0</td>
                    <td>{{ board.create_time }}</td>
                    <td>
                        <button class="btn btn-default btn-xs edit-board-btn">编辑</button>
                        <button class="btn btn-danger btn-xs delete-board-btn">删除</button>
                    </td>
                </tr>
            {% endfor %}

        </tbody>
    </table>

{% endblock %}